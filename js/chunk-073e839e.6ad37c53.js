(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-073e839e"],{"1c1b":function(e,t,r){},"36bd":function(e,t,r){"use strict";var n=r("7ea1"),a=r.n(n);a.a},"60c8":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));r("99af"),r("4160"),r("159b");var n=r("5530"),a=(r("96cf"),r("1da1")),u=r("d4ec"),i=r("bee2"),o=r("6ad1"),c=function(){function e(){Object(u["a"])(this,e)}return Object(i["a"])(e,null,[{key:"create",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].post("workspace/".concat(t,"/quiz-groups/"),{});case 2:return r=e.sent,e.abrupt("return",r.data.quizGroup);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"remove",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].delete("workspace/".concat(t,"/quiz-groups/").concat(r));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a){var u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u=Object(n["a"])({},a),e.next=3,o["a"].post("workspace/".concat(t,"/quiz-groups/").concat(r),JSON.stringify(u));case 3:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getQuizGroup",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].get("workspace/".concat(t,"/quiz-groups/").concat(r));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getQuizGroups",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].get("workspace/".concat(t,"/quiz-groups/"));case 2:return r=e.sent,e.abrupt("return",r.data.quizGroupList);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateName",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(r,n,a){var u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return u={name:a},t.next=3,e.update(r,n,u);case 3:case"end":return t.stop()}}),t)})));function r(e,r,n){return t.apply(this,arguments)}return r}()},{key:"prepareQuizIdList",value:function(e){var t=[];return e.forEach((function(e){t.push(e.uuid)})),t}},{key:"setQuizList",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(r,n,a){var u,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return u=this.prepareQuizIdList(a),i={quizIdList:u},t.next=4,e.update(r,n,i);case 4:case"end":return t.stop()}}),t,this)})));function r(e,r,n){return t.apply(this,arguments)}return r}()},{key:"test",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].post("quiz/test",{});case 2:return t=e.sent,console.log(t.data),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}()},"7ea1":function(e,t,r){},"92cd":function(e,t,r){},a434:function(e,t,r){"use strict";var n=r("23e7"),a=r("23cb"),u=r("a691"),i=r("50c4"),o=r("7b0b"),c=r("65f0"),s=r("8418"),p=r("1dde"),l=r("ae40"),d=p("splice"),f=l("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,h=Math.min,g=9007199254740991,v="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d||!f},{splice:function(e,t){var r,n,p,l,d,f,w=o(this),b=i(w.length),y=a(e,b),k=arguments.length;if(0===k?r=n=0:1===k?(r=0,n=b-y):(r=k-2,n=h(m(u(t),0),b-y)),b+r-n>g)throw TypeError(v);for(p=c(w,n),l=0;l<n;l++)d=y+l,d in w&&s(p,l,w[d]);if(p.length=n,r<n){for(l=y;l<b-n;l++)d=l+n,f=l+r,d in w?w[f]=w[d]:delete w[f];for(l=b;l>b-n+r;l--)delete w[l-1]}else if(r>n)for(l=b-n;l>y;l--)d=l+n-1,f=l+r-1,d in w?w[f]=w[d]:delete w[f];for(l=0;l<r;l++)w[l+y]=arguments[l+2];return w.length=b-n+r,p}})},b47d:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return u}));var n=r("2b0e"),a=new n["default"],u=new n["default"];new n["default"]},c913:function(e,t,r){"use strict";var n=r("92cd"),a=r.n(n);a.a},caeb:function(e,t,r){"use strict";var n=r("1c1b"),a=r.n(n);a.a},edc9:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("96cf");var n=r("1da1"),a=r("d4ec"),u=r("bee2"),i=r("6ad1"),o=function(){function e(){Object(a["a"])(this,e)}return Object(u["a"])(e,null,[{key:"getManagerEntryInfo",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].get("account/manager/entry");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}()},f047:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"workspace-quiz"},[r("div",{staticClass:"quiz-groups"},[r("transition-group",{staticClass:"transition-tag",attrs:{name:"list-complete",tag:"div"}},e._l(e.quizGroups,(function(t,n){return r("div",{key:t.uuid,staticClass:"list-complete-item col-lg-4 col-xl-3 my-3 ui-card"},[r("QuizGroupCard",{attrs:{group:t},on:{removeMe:function(t){return e.removeGroupCard(n)}}})],1)})),0)],1),r("v-dialog")],1)},a=[],u=(r("a434"),r("96cf"),r("1da1")),i=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"group-card"},[r("div",{staticClass:"pic"},[r("img",{class:{"contain-img":e.previewImage!==e.defaultThumbnial},attrs:{src:e.previewImage}}),r("h2",[e._v(e._s(e.group.quizNumber)+" 題")])]),r("div",{staticClass:"content"},[r("h1",{staticClass:"group-title"},[e._v(" "+e._s(e.group.name)+" ")]),r("div",{staticClass:"btn-area"},[r("div",{staticClass:"ui-btn"},[r("div",{staticClass:"icon-btn",attrs:{title:"刪除"},on:{click:e.removeGroup}},[r("i",{staticClass:"fas fa-trash"})])]),r("div",{staticClass:"ui-btn"},[r("div",{staticClass:"icon-btn",attrs:{title:"編輯"},on:{click:e.enterGroup}},[r("i",{staticClass:"fas fa-pen"})])])]),r("div",{staticClass:"info"},[r("p",[e._v("已作答數："+e._s(e.group.answeredCount))]),r("p",[e._v("正確率："+e._s(e.group.correctRatio)+" %")])])])])},c=[],s=r("b47d"),p=i["default"].extend({name:"QuizGroupCard",components:{},props:{group:{type:Object,required:!1,default:null}},data:function(){return{defaultThumbnial:"https://images.unsplash.com/photo-1605522220576-f5566d005f1c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60",copyMessageDisplay:!1,copyMessageTimeoutId:0}},computed:{previewImage:function(){return this.group.previewImage?"".concat(this.group.previewImage,"/240"):this.defaultThumbnial},dialogId:function(){return this.group.shortId}},mounted:function(){s["a"].$on("clear-copied-message",this.clearCopyMessageTimeout)},methods:{enterGroup:function(){this.$store.commit("changeQuizGroup",this.group),this.$router.push("/manager/quizgroup-maker")},removeGroup:function(){this.openRemoveModal()},openRemoveModal:function(){var e=this;this.$modal.show("dialog",{title:"確定刪除嗎?",text:"這個群組刪掉就不會再回來了",buttons:[{title:"取消",handler:function(){e.$modal.hide("dialog")}},{title:"確定",handler:function(){e.$modal.hide("dialog"),e.$emit("removeMe")}}]})},copyGroupCode:function(){var e=this;s["a"].$emit("clear-copied-message"),this.$copyText("q".concat(this.group.shortId)).then((function(t){e.copyMessageDisplay=!0,e.copyMessageTimeoutId=setTimeout(e.clearCopyMessage,1500)}),(function(e){console.error("複製失败",e.text)}))},clearCopyMessage:function(){this.copyMessageDisplay=!1},clearCopyMessageTimeout:function(){this.clearCopyMessage(),clearTimeout(this.copyMessageTimeoutId)}}}),l=p,d=(r("c913"),r("2877")),f=Object(d["a"])(l,o,c,!1,null,"37ca7b25",null),m=f.exports,h=r("edc9"),g=r("60c8"),v=i["default"].extend({components:{QuizGroupCard:m},data:function(){return{quizGroups:[]}},computed:{currentWorkspace:function(){return this.$store.state.currentWorkspace}},mounted:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h["a"].getManagerEntryInfo().then((function(t){e.$store.commit("updateWorkspaceList",t.workspaceList),e.$store.commit("changeWorkspace",t.workspaceList[0]),e.$store.commit("setUsername",t.username)}));case 2:return t.next=4,g["a"].getQuizGroups(e.currentWorkspace.uuid).then((function(t){e.quizGroups=t}));case 4:case"end":return t.stop()}}),t)})))()},methods:{removeGroupCard:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!(e>=0&&e<t.quizGroups.length)){r.next=4;break}return r.next=3,g["a"].remove(t.currentWorkspace.uuid,t.quizGroups[e].uuid);case 3:t.quizGroups.splice(e,1);case 4:case"end":return r.stop()}}),r)})))()}}}),w=v,b=(r("36bd"),r("caeb"),Object(d["a"])(w,n,a,!1,null,"3a99a485",null));t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-073e839e.6ad37c53.js.map