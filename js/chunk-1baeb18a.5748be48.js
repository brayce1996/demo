(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1baeb18a"],{3608:function(e,t,n){"use strict";var r=n("e7ad"),a=n.n(r);a.a},4480:function(e,t,n){"use strict";var r=n("f891"),a=n.n(r);a.a},"5fc3":function(e,t,n){},"6a70":function(e,t,n){"use strict";var r=n("5fc3"),a=n.n(r);a.a},"74c7":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u}));n("b0c0");var r,a=n("d4ec");(function(e){e["SEND"]="send"})(r||(r={}));var i=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object(a["a"])(this,e),this.uuid="",this.name=t,this.startTime=n,this.endTime=r,this.scheduledTime=null,this.shortId="",this.quizGroups=null,this.memberGroups=null,this.isLocked=!1,this.stateHistory=null},u=function e(t,n,r,i,u,s){if(Object(a["a"])(this,e),t&&(this.name=t),n&&(this.startTime=n),r&&(this.endTime=r),i&&(this.scheduledTime=i),u){this.quizGroupIdList=[];for(var c=0;c<u.length;c+=1)this.quizGroupIdList.push(u[c].uuid)}if(s){this.memberGroupIdList=[];for(var o=0;o<s.length;o+=1)this.memberGroupIdList.push(s[o].uuid)}}},"800a":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"quizEvent"},[n("transition-group",{staticClass:"transition-tag",attrs:{name:"list-complete",tag:"div"}},e._l(e.quizEvents,(function(t,r){return n("div",{key:t.uuid,staticClass:"list-complete-item col-lg-4 col-xl-3 my-3 ui-card"},[n("QuizEventCard",{attrs:{group:t},on:{removeMe:function(t){return e.deleteEventCard(r)}}})],1)})),0)],1),n("v-dialog")],1)},a=[],i=(n("a434"),n("96cf"),n("1da1")),u=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"group-card"},[n("div",{staticClass:"pic"},[n("img",{attrs:{src:e.previewImage}}),!1===e.group.isLocked?n("h2",{staticStyle:{color:"green"}},[e._v(" 排程發送 ")]):e._e(),!0===e.group.isLocked?n("h2",{staticStyle:{color:"rgb(206, 0, 0)"}},[e._v(" 已發送 ")]):e._e()]),n("div",{staticClass:"content"},[n("h1",{staticClass:"group-title"},[e._v(" "+e._s(e.group.name)+" ")]),n("div",{staticClass:"btn-area"},[n("div",{staticClass:"ui-btn"},[n("div",{staticClass:"icon-btn",attrs:{title:"刪除"},on:{click:e.removeGroup}},[n("i",{staticClass:"fas fa-trash"})])]),n("div",{staticClass:"ui-btn"},[n("div",{staticClass:"icon-btn",attrs:{title:"編輯"},on:{click:e.enterGroup}},[n("i",{staticClass:"fas fa-pen"})])]),n("div",{staticClass:"ui-btn-right"},[n("div",{staticClass:"icon-btn",attrs:{title:"複製測驗代碼"},on:{click:function(t){return e.copyGroupCode()}}},[n("i",{staticClass:"fas fa-copy"})]),n("transition",{attrs:{name:"fade"}},[!0===e.copyMessageDisplay?n("p",{staticClass:"copy-message"},[e._v(" 已複製測驗代碼 ")]):e._e()])],1)]),n("div",{staticClass:"info"},[n("p",[e._v("已作答數："+e._s(e.group.answeredCount))]),n("p",[e._v("正確率："+e._s(e.group.correctRatio)+" %")])])])])},c=[],o=n("b47d"),l=u["default"].extend({name:"QuizEventCard",components:{},props:{group:{type:Object,required:!1,default:null}},data:function(){return{defaultThumbnial:"https://images.unsplash.com/photo-1606326608606-aa0b62935f2b?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",copyMessageDisplay:!1,copyMessageTimeoutId:0}},computed:{previewImage:function(){return this.defaultThumbnial?"".concat(this.defaultThumbnial,"/240"):this.defaultThumbnial},dialogId:function(){return this.group.uuid}},mounted:function(){o["a"].$on("clear-copied-message",this.clearCopyMessageTimeout)},methods:{enterGroup:function(){this.$store.commit("changeQuizEvent",this.group),this.$router.push("/manager/quizevent-maker")},removeGroup:function(){this.openRemoveModal()},openRemoveModal:function(){var e=this;this.$modal.show("dialog",{title:"確定刪除嗎?",text:"這個群組刪掉就不會再回來了",buttons:[{title:"取消",handler:function(){e.$modal.hide("dialog")}},{title:"確定",handler:function(){e.$modal.hide("dialog"),e.$emit("removeMe")}}]})},copyGroupCode:function(){var e=this;o["a"].$emit("clear-copied-message"),this.$copyText("".concat(this.group.shortId)).then((function(t){e.copyMessageDisplay=!0,e.copyMessageTimeoutId=setTimeout(e.clearCopyMessage,1500)}),(function(e){console.error("複製失败",e.text)}))},clearCopyMessage:function(){this.copyMessageDisplay=!1},clearCopyMessageTimeout:function(){this.clearCopyMessage(),clearTimeout(this.copyMessageTimeoutId)}}}),p=l,d=(n("4480"),n("2877")),f=Object(d["a"])(p,s,c,!1,null,"04ca90a0",null),h=f.exports,m=n("edc9"),v=n("cb92"),g=u["default"].extend({components:{QuizEventCard:h},data:function(){return{}},computed:{currentWorkspace:function(){return this.$store.state.currentWorkspace},quizEvents:function(){return this.$store.state.theQuizEvents}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].getManagerEntryInfo().then((function(t){e.$store.commit("updateWorkspaceList",t.workspaceList),e.$store.commit("changeWorkspace",t.workspaceList[0]),e.$store.commit("setUsername",t.username)}));case 2:return t.next=4,v["a"].getQuizEvents(e.currentWorkspace.uuid).then((function(t){e.$store.commit("getQuizEvents",t)}));case 4:case"end":return t.stop()}}),t)})))()},methods:{deleteEventCard:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(e>=0&&e<t.quizEvents.length)){n.next=4;break}return n.next=3,v["a"].delete(t.currentWorkspace.uuid,t.quizEvents[e].uuid);case 3:t.quizEvents.splice(e,1);case 4:case"end":return n.stop()}}),n)})))()}}}),b=g,w=(n("3608"),n("6a70"),Object(d["a"])(b,r,a,!1,null,"474c9a42",null));t["default"]=w.exports},a434:function(e,t,n){"use strict";var r=n("23e7"),a=n("23cb"),i=n("a691"),u=n("50c4"),s=n("7b0b"),c=n("65f0"),o=n("8418"),l=n("1dde"),p=n("ae40"),d=l("splice"),f=p("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,m=Math.min,v=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d||!f},{splice:function(e,t){var n,r,l,p,d,f,b=s(this),w=u(b.length),y=a(e,w),k=arguments.length;if(0===k?n=r=0:1===k?(n=0,r=w-y):(n=k-2,r=m(h(i(t),0),w-y)),w+n-r>v)throw TypeError(g);for(l=c(b,r),p=0;p<r;p++)d=y+p,d in b&&o(l,p,b[d]);if(l.length=r,n<r){for(p=y;p<w-r;p++)d=p+r,f=p+n,d in b?b[f]=b[d]:delete b[f];for(p=w;p>w-r+n;p--)delete b[p-1]}else if(n>r)for(p=w-r;p>y;p--)d=p+r-1,f=p+n-1,d in b?b[f]=b[d]:delete b[f];for(p=0;p<n;p++)b[p+y]=arguments[p+2];return b.length=w-r+n,l}})},b47d:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n("2b0e"),a=new r["default"],i=new r["default"];new r["default"]},cb92:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("99af"),n("b0c0");var r=n("5530"),a=(n("96cf"),n("1da1")),i=n("d4ec"),u=n("bee2"),s=n("6ad1"),c=n("74c7"),o=function(){function e(){Object(i["a"])(this,e)}return Object(u["a"])(e,null,[{key:"create",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].post("workspace/".concat(t,"/quiz-events/"),{});case 2:return n=e.sent,e.abrupt("return",n.data.quizEvent);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getQuizEvent",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].get("workspace/".concat(t,"/quiz-events/").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data.quizEvent);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getQuizEvents",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].get("workspace/".concat(t,"/quiz-events/"));case 2:return n=e.sent,e.abrupt("return",n.data.quizEventList);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getQuizEventState",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].get("workspace/".concat(t,"/quiz-events/").concat(n,"/state"));case 2:return r=e.sent,e.abrupt("return",r.data.quizEventState);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,u,s,o,l,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.name,i=r.startTime,u=r.endTime,s=r.scheduledTime,o=r.quizGroups,l=r.memberGroups,p=new c["c"](a,i,u,s,o,l),e.next=4,this.put(t,n,p);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"put",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=Object(r["a"])({},a),e.next=3,s["a"].put("workspace/".concat(t,"/quiz-events/").concat(n),i);case 3:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"doAction",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={action:r},e.next=3,s["a"].post("workspace/".concat(t,"/quiz-events/").concat(n,"/action"),JSON.stringify(a));case 3:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].delete("workspace/".concat(t,"/quiz-events/").concat(n));case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}()},e7ad:function(e,t,n){},edc9:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("96cf");var r=n("1da1"),a=n("d4ec"),i=n("bee2"),u=n("6ad1"),s=function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,null,[{key:"getManagerEntryInfo",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].get("account/manager/entry");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}()},f891:function(e,t,n){}}]);
//# sourceMappingURL=chunk-1baeb18a.5748be48.js.map